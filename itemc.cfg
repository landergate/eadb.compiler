--[[
    ~ Configuration ~
    output_format         :"txt" | "lua"
        * txt follows the idnum2itemdesctable.txt format
        * lua follows the itemInfo.lua format
    output_filename
        * creates the output file with this file name
    server_type            : "eathena" | "rathena_re" | "hercules_re" | "resource"
        * specifies how to translate the item database for a server type
    resource_db_path
        * path to the resource sqlite3 database produce by iteml
    server_db_path
        * path to the server sqlite3 database produce by iteml
--]]

--[[ item format rule defaults ]]
general_default = {
    {
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "delay", ["text"] = "Item Delay:"},
            { ["type"] = "trade" },
            { ["type"] = "stack" }
        }
    }
}

weapon_default = {
    {
        -- display range for ranged weapons
        ["item_id"] = {-1, -1},
        ["weapon_type"] = {11, 13, 14, 17, 18, 19, 20, 21, 22},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "view", ["text"] = "Class:"},
            { ["type"] = "attack", ["text"] = "Attack:"},
            { ["type"] = "magical_attack", ["text"] = "Magical Attack:"},
            { ["type"] = "range", ["text"] = "Range:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "weapon_level", ["text"] = "Weapon Level:"},
            { ["type"] = "require_level", ["text"] = "Required Level:"},
            { ["type"] = "job", ["text"] = "Job:"},
            { ["type"] = "upper", ["text"] = "Tier:"},
            { ["type"] = "refinement", ["text"] = "Impossible to refine this item."},
            { ["type"] = "bind", ["text"] = "Equipment binds to character on equipped."},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    },{
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "view", ["text"] = "Class:"},
            { ["type"] = "attack", ["text"] = "Attack:"},
            { ["type"] = "magical_attack", ["text"] = "Magical Attack:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "weapon_level", ["text"] = "Weapon Level:"},
            { ["type"] = "require_level", ["text"] = "Required Level:"},
            { ["type"] = "job", ["text"] = "Job:"},
            { ["type"] = "upper", ["text"] = "Tier:"},
            { ["type"] = "refinement", ["text"] = "Impossible to refine this item."},
            { ["type"] = "bind", ["text"] = "Equipment binds to character on equipped."},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    }
}

armor_default = {
    {
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "type", ["text"] = "Class:"},
            { ["type"] = "defense", ["text"] = "Defense:"},
            { ["type"] = "location", ["text"] = "Location:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "require_level", ["text"] = "Required Level:"},
            { ["type"] = "job", ["text"] = "Job:"},
            { ["type"] = "upper", ["text"] = "Tier:"},
            { ["type"] = "refinement", ["text"] = "Impossible to refine this item."},
            { ["type"] = "bind", ["text"] = "Equipment binds to character on equipped."},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    }
}

pet_default = {
    {
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "type", ["text"] = "Class:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    }
}

card_default = {
    {
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "type", ["text"] = "Class:"},
            { ["type"] = "location", ["text"] = "Compound On:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    }
}

ammo_default = {
    {
        ["item_id"] = {-1, -1},
        ["format"] = {
            { ["type"] = "flavour" },
            { ["type"] = "script" },
            { ["type"] = "view", ["text"] = "Class:"},
            { ["type"] = "attack", ["text"] = "Attack:"},
            { ["type"] = "weight", ["text"] = "Weight:"},
            { ["type"] = "buyingstore", ["text"] = "May be sold in buying store."},
            { ["type"] = "trade" }
        }
    }
}

--[[ default item format table ]]
default_item_format = {
    ["healing"]             = general_default,
    ["usable"]              = general_default,
    ["etc"]                 = general_default,
    ["weapon"]              = weapon_default,
    ["armor"]               = armor_default,
    ["card"]                = card_default,
    ["pet_egg"]             = pet_default,
    ["pet_equip"]           = pet_default,
    ["ammo"]                = ammo_default,
    ["delay_usable"]        = general_default,
    ["confirm_usable"]      = general_default,
    ["shadow_equip"]        = armor_default
}


compilation_table = {
    {
        ["output_format"]           = "txt",
        ["output_filename"]         = "ea_idnum2itemdesctable.txt",
        ["server_type"]             = "eathena",
        ["resource_db_path"]        = "/root/Desktop/dev/eAdb.Compiler3/resources.db",
        ["server_db_path"]          = "/root/Desktop/dev/eAdb.Compiler3/eathena.db",
        ["flavour_text_db_path"]    = "/root/Desktop/dev/eAdb.Compiler3/flavour_text.db",
        ["item_format"]             = default_item_format
    },{
        ["output_format"]           = "txt",
        ["output_filename"]         = "ra_idnum2itemdesctable.txt",
        ["server_type"]             = "rathena",
        ["resource_db_path"]        = "/root/Desktop/dev/eAdb.Compiler3/resources.db",
        ["server_db_path"]          = "/root/Desktop/dev/eAdb.Compiler3/rathena.db",
        ["flavour_text_db_path"]    = "/root/Desktop/dev/eAdb.Compiler3/flavour_text.db",
        ["item_type"]               = item_type,
        ["item_format"]             = default_item_format
    },{
        ["output_format"]           = "txt",
        ["output_filename"]         = "he_idnum2itemdesctable.txt",
        ["server_type"]             = "hercules",
        ["resource_db_path"]        = "/root/Desktop/dev/eAdb.Compiler3/resources.db",
        ["server_db_path"]          = "/root/Desktop/dev/eAdb.Compiler3/hercules.db",
        ["flavour_text_db_path"]    = "/root/Desktop/dev/eAdb.Compiler3/flavour_text.db",
        ["item_type"]               = item_type,
        ["item_format"]             = default_item_format
    }
    
}

--[[ item type and item field table matches the constants in format.h ]]
item_type = {
    ["healing"]         = 0,
    ["usable"]          = 2,
    ["etc"]             = 3,
    ["weapon"]          = 4,
    ["armor"]           = 5,
    ["card"]            = 6,
    ["pet_egg"]         = 7,
    ["pet_equip"]       = 8,
    ["ammo"]            = 10,
    ["delay_usable"]    = 11,
    ["shadow_equip"]    = 12,
    ["confirm_usable"]  = 18
}

item_field = {
    ["flavour"]         = 0,
    ["type"]            = 1,
    ["buy"]             = 2,
    ["sell"]            = 3,
    ["weight"]          = 4,
    ["attack"]          = 5,
    ["defense"]         = 6,
    ["range"]           = 7,
    ["job"]             = 8,
    ["gender"]          = 9,
    ["location"]        = 10,
    ["weapon_level"]    = 11,
    ["require_level"]   = 12,
    ["refinement"]      = 13,
    ["script"]          = 14,
    ["view"]            = 15,
    ["upper"]           = 16,
    ["magical_attack"]  = 17,
    ["bind"]            = 18,
    ["buyingstore"]     = 19,
    ["delay"]           = 20,
    ["trade"]           = 21,
    ["stack"]           = 22
}
